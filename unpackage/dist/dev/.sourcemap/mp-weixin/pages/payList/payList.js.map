{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/projrct/dingdanbao/dingdanbao/pages/payList/payList.vue?c7c9","webpack:///D:/projrct/dingdanbao/dingdanbao/pages/payList/payList.vue?108c","webpack:///D:/projrct/dingdanbao/dingdanbao/pages/payList/payList.vue?5bcb","uni-app:///pages/payList/payList.vue","webpack:///D:/projrct/dingdanbao/dingdanbao/pages/payList/payList.vue?802b","webpack:///D:/projrct/dingdanbao/dingdanbao/pages/payList/payList.vue?598c"],"names":["createPage","Page"],"mappings":"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","file":"pages/payList/payList.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/payList/payList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./payList.vue?vue&type=template&id=382cfbd4&\"\nvar renderjs\nimport script from \"./payList.vue?vue&type=script&lang=js&\"\nexport * from \"./payList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./payList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/payList/payList.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payList.vue?vue&type=template&id=382cfbd4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list, function(item, i) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 =\n      item.state == true\n        ? require(\"../../static/image/icon_payList2.png\")\n        : null\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payList.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"payList\">\n    <!-- <div class=\"payList_title\">\n      <img src=\"../../static/image/icon_payList1.png\" @click=\"butdel()\" />\n      充值\n    </div> -->\n    <div class=\"payList_list\">\n      <div\n        v-for=\"(item, i) in list\"\n        class=\"payList_list_num\"\n        :class=\"{ payList_list_num1: item.state }\"\n        @click=\"but(item, i)\"\n      >\n        <img\n          v-if=\"item.state == true\"\n          src=\"../../static/image/icon_payList2.png\"\n        />\n        <div\n          class=\"payList_list_num_top\"\n          :class=\"{ 'but-no': item.state == false }\"\n        >\n          {{ item.msg }}\n        </div>\n        <div class=\"payList_list_num_button but-no\">无赠送</div>\n        <!-- <div class=\"payList_list_num_button\" v-else>{{item.donateMsg}}</div> -->\n      </div>\n    </div>\n    <div class=\"payList_but\">\n      <button class=\"payList_but_in\" @click=\"butadd()\">去支付</button>\n      <button class=\"payList_but_in\" @click=\"butdel()\">取消</button>\n    </div>\n    <a\n      id=\"a-upload\"\n      href=\"javascript:window.opener=null;window.open('','_self');window.close();\"\n    ></a>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"app\",\n  data() {\n    return {\n      list: [],\n      type: false,\n      id: \"\",\n      token: \"\",\n      stateNum: 0,\n      activeNames: [\"1\"]\n    };\n  },\n  methods: {\n    into() {\n      var that = this;\n      that.id = JSON.parse(uni.getStorageSync(\"id\"));\n      that.token = JSON.parse(uni.getStorageSync(\"token\"));\n      uni.request({\n          method: \"post\",\n          url: that.$axiosw.interface + that.$axiosw.data[33].interface,\n          data: {},\n          transformRequest: [\n            function(data) {\n              let ret = \"\";\n              ret = that.$qs.stringify(data);\n              return ret;\n            }\n          ],\n          header: {\n            Authorization: that.token,\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        })\n        .then(function(res) {\n          var e = that.interactionDetection(res[1]);\n          if (e.data.status == 0) {\n            var num = [];\n            for (var i = 0; i < e.data.data.length; i++) {\n              e.data.data[i].state = false;\n              num.push(e.data.data[i]);\n            }\n            num[0].state = true;\n            that.stateNum = num[0].type;\n            that.list = num;\n          }\n        });\n    },\n    but(e, i) {\n      for (var a = 0; a < this.list.length; a++) {\n        if (a == i) {\n          this.list[a].state = true;\n        } else {\n          this.list[a].state = false;\n        }\n      }\n      this.stateNum = this.list[i].type;\n    },\n    butadd() {\n      var that = this;\n      if (that.type == false) {\n        that.type = true;\n        uni.request({\n            method: \"post\",\n            url: 'https://wxmin.tianxianjun.com/pay/prePayOrder',\n            data: {\n              shopId: that.id,\n              type: that.stateNum\n            },\n            transformRequest: [\n              function(data) {\n                let ret = \"\";\n                ret = that.$qs.stringify(data);\n                return ret;\n              }\n            ],\n            header: {\n              Authorization: that.token,\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n          })\n          .then(function(res) {\n            var e = that.interactionDetection(res[1]);\n            if (e.data.status == 0) {\n              that.type = false;\n              let redirect_url = e.data.data.clientSkipUrl;\r\n\t\t\t  console.log(redirect_url)\n              uni.setStorageSync(\"orderId\", e.data.data.orderId);\r\n\t\t\t  console.log(e.data.data)\r\n\t\t\t  var eq=e.data.data\r\n\t\t\t  wx.requestPayment({\r\n\t\t\t    timeStamp: eq.timeStamp,\r\n\t\t\t    nonceStr: eq.nonceStr,\r\n\t\t\t    package: eq.package,\r\n\t\t\t    signType: 'MD5',\r\n\t\t\t    paySign: eq.paySign,\r\n\t\t\t    success (res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t},\r\n\t\t\t    fail (res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t}\r\n\t\t\t  })\n              // location.href=e.data.data.mweb_url +\"&redirect_url=\" +encodeURIComponent(redirect_url),\"_search\"\n              \n              // setTimeout(()=>{\n              //   var link = document.getElementById('a-upload');\n              //   link.click();\n              //   // window.opener = window;\n              //   //  var win = window.open(\"\",\"_self\");\n              //   //  win.close();\n              //   //  //frame的时候\n              //   //  top.close();\n              // },30)\n            }\n          });\n      }\n    },\n    butdel() {\n      uni.setStorageSync(\"index\", 3);\n      this.$router.push({\n        path: \"/\"\n      });\n    },\n    interactionDetection(res) {\n      var that = this;\n      if (res.data.status == 200 || res.data.status == 0) {\n        return res;\n      } else if (res.data.status == 7001 || res.data.status == 8001) {\n        that.$toast(res.data.msg);\n        uni.setStorageSync(\"status\", true);\n        setTimeout(() => {\n          that.$router.push({\n            path: \"/logo\"\n          });\n        }, 500);\n      } else {\n        that.$toast(res.data.msg);\n        return res;\n      }\n    }\n  },\n  mounted() {\n    this.into();\r\n\twx.requestPayment({\r\n\t  timeStamp: '',\r\n\t  nonceStr: '',\r\n\t  package: '',\r\n\t  signType: 'MD5',\r\n\t  paySign: '',\r\n\t  success (res) { },\r\n\t  fail (res) { }\r\n\t})\n  }\n};\n</script>\n\n<style>\n.payList {\n  /* position: fixed; */\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: #f6f6f6;\n  overflow: hidden;\n}\n.payList_list {\n  width: 700rpx;\n  margin: 28rpx auto 700rpx;\n  overflow: hidden;\n}\n.payList_title {\n  height: 96rpx;\n  line-height: 96rpx;\n  text-align: center;\n  font-size: 34rpx;\n  color: #000000;\n  position: relative;\n}\n.payList_title > img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 96rpx;\n  height: 96rpx;\n}\n.payList_list_num {\n  width: 200rpx;\n  height: 304rpx;\n  border-radius: 2rpx;\n  border: 2rpx solid #757575;\n  margin-right: 40rpx;\n  margin-bottom: 28rpx;\n  float: left;\n  position: relative;\n}\n.payList_list_num1 {\n  border-color: #5563ed;\n}\n.payList_list_num:nth-child(3n) {\n  margin-right: 0;\n}\n.payList_list_num > img {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 44rpx;\n  height: 44rpx;\n}\n\n.payList_list_num_top {\n  height: 250rpx;\n  line-height: 250rpx;\n  text-align: center;\n  font-size: 32rpx;\n  color: #c67ae7;\n  border-bottom: 0.01rpx solid #c6c6c6;\n}\n\n.payList_list_num_button {\n  text-align: center;\n  font-size: 24rpx;\n  line-height: 52rpx;\n  height: 52rpx;\n  color: #c67ae7;\n}\n.but-no {\n  color: #131313;\n}\n.payList_but {\n  position: fixed;\n  left: 0;\n  right: 0;\n  margin: auto;\n  overflow: hidden;\n  bottom: 40rpx;\n  width: 704rpx;\n}\n.payList_but_in {\n  width: 704rpx;\n  height: 80rpx;\n  border-radius: 40rpx;\n  font-size:32rpx;\n  color: #626eee;\n  background: #fff;\n}\n.payList_but_in:nth-child(1) {\n  color: #fff;\n  background: #626eee;\n}\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payList.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631256093201\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}